# Notification



## Environmental Variables

Nagios passes most of event data via environment, including a good deal of "generic" info not related to current service/host alert

All variables start with `NAGIOS`, most of fields are self-explaining

[states](states.md) are standard nagios state

### Event/service-specific

* **NAGIOS_ARG1** to  * **NAGIOS_ARG32** - unused in notofication
* **NAGIOS_CONTACTADDRESS0** to * **NAGIOS_CONTACTADDRESS5** - unused
* **NAGIOS_CONTACTALIAS**
* **NAGIOS_CONTACTEMAIL**
* **NAGIOS_CONTACTGROUPALIAS**
* **NAGIOS_CONTACTGROUPMEMBERS**
* **NAGIOS_CONTACTGROUPNAME**
* **NAGIOS_CONTACTGROUPNAMES** - List of all contact groups this check is assigned to
* **NAGIOS_CONTACTNAME**
* **NAGIOS_CONTACTPAGER**
* **NAGIOS_DATE** - **30-07-2015**,
* **NAGIOS_EVENTSTARTTIME** - **1436451152**,
* **NAGIOS_HOSTACKAUTHOR**
* **NAGIOS_HOSTACKAUTHORALIAS**
* **NAGIOS_HOSTACKAUTHORNAME**
* **NAGIOS_HOSTACKCOMMENT**
* **NAGIOS_HOSTACTIONURL**
* **NAGIOS_HOSTADDRESS** - `10.0.0.1`
* **NAGIOS_HOSTALIAS** - `fwhq2`,
* **NAGIOS_HOSTATTEMPT** - `1`,
* **NAGIOS_HOSTCHECKCOMMAND** - `check_ping!200.0,5%!500.0,60%`,
* **NAGIOS_HOSTCHECKTYPE** - `ACTIVE`,
* **NAGIOS_HOSTDISPLAYNAME** - `hq-router1`,
* **NAGIOS_HOSTDOWNTIME** - `0`,
* **NAGIOS_HOSTDURATION** - `16d 0h 10m 53s`,
* **NAGIOS_HOSTDURATIONSEC** - `1383053`,
* **NAGIOS_HOSTEVENTID** - `3348300`,
* **NAGIOS_HOSTEXECUTIONTIME** - `4.276`,
* **NAGIOS_HOSTGROUPACTIONURL**
* **NAGIOS_HOSTGROUPALIAS** - `router-boxes`,
* **NAGIOS_HOSTGROUPMEMBERS** - `dc1-gw,dmz-router1,hq-router1,vpn2`,
* **NAGIOS_HOSTGROUPNAME** - `router-boxes`,
* **NAGIOS_HOSTGROUPNAMES** - `router-boxes`,
* **NAGIOS_HOSTGROUPNOTES**
* **NAGIOS_HOSTGROUPNOTESURL**
* **NAGIOS_HOSTLATENCY** - `1.049`,
* **NAGIOS_HOSTNAME** - `hq-router1`,
* **NAGIOS_HOSTNOTES**
* **NAGIOS_HOSTNOTESURL**
* **NAGIOS_HOSTNOTIFICATIONID** - `289853`,
* **NAGIOS_HOSTNOTIFICATIONNUMBER** - `0`,
* **NAGIOS_HOSTOUTPUT** - `PING OK - Packet loss = 0%, RTA = 3.19 ms`,
* **NAGIOS_HOSTPERCENTCHANGE** - `0.00`,
* **NAGIOS_HOSTPERFDATA** - `rta=3.192000ms;200.000000;500.000000;0.000000 pl=0%;5;60;0`,
* **NAGIOS_HOSTPERFDATAFILE**
* **NAGIOS_HOSTPROBLEMID** - `0`,
* **NAGIOS_HOSTSTATE** - `UP`,
* **NAGIOS_HOSTSTATEID** - `0`,
* **NAGIOS_HOSTSTATETYPE** - `HARD`,
* **NAGIOS_ISVALIDTIME**
* **NAGIOS_LASTHOSTCHECK** - `1436455263`,
* **NAGIOS_LASTHOSTDOWN** - `1435072350`,
* **NAGIOS_LASTHOSTEVENTID** - `3348299`,
* **NAGIOS_LASTHOSTPROBLEMID** - `1514043`,
* **NAGIOS_LASTHOSTSTATE** - `UP`,
* **NAGIOS_LASTHOSTSTATECHANGE** - `1435072420`,
* **NAGIOS_LASTHOSTSTATEID** - `0`,
* **NAGIOS_LASTHOSTUNREACHABLE** - `0`,
* **NAGIOS_LASTHOSTUP** - `1436455272`,
* **NAGIOS_LASTSERVICECHECK** - `1436455464`,
* **NAGIOS_LASTSERVICECRITICAL** - `0`,
* **NAGIOS_LASTSERVICEEVENTID** - `3338844`,
* **NAGIOS_LASTSERVICEOK** - `1432828597`,
* **NAGIOS_LASTSERVICEPROBLEMID** - `1508776`,
* **NAGIOS_LASTSERVICESTATE** - `UNKNOWN`,
* **NAGIOS_LASTSERVICESTATECHANGE** - `1432829197`,
* **NAGIOS_LASTSERVICESTATEID** - `3`,
* **NAGIOS_LASTSERVICEUNKNOWN** - `1436455464`,
* **NAGIOS_LASTSERVICEWARNING** - `0`,
* **NAGIOS_LONGDATETIME** - `Thu Jul 9 17:24:33 CEST 2015`,
* **NAGIOS_LONGHOSTOUTPUT**
* **NAGIOS_LONGSERVICEOUTPUT** - `long service output - STDOUT + STDERR`
* **NAGIOS_MAXHOSTATTEMPTS** - `3`,
* **NAGIOS_MAXSERVICEATTEMPTS** - `2`,
* **NAGIOS_NEXTVALIDTIME**
* **NAGIOS_NOTIFICATIONAUTHOR**
* **NAGIOS_NOTIFICATIONAUTHORALIAS**
* **NAGIOS_NOTIFICATIONAUTHORNAME**
* **NAGIOS_NOTIFICATIONCOMMENT**
* **NAGIOS_NOTIFICATIONNUMBER** - `126`,
* **NAGIOS_NOTIFICATIONRECIPIENTS** - list of recipients that will get that notification
* **NAGIOS_NOTIFICATIONTYPE** - `PROBLEM`,
* **NAGIOS_SERVICEACKAUTHOR**
* **NAGIOS_SERVICEACKAUTHORALIAS**
* **NAGIOS_SERVICEACKAUTHORNAME**
* **NAGIOS_SERVICEACKCOMMENT**
* **NAGIOS_SERVICEACTIONURL**
* **NAGIOS_SERVICEATTEMPT** - `2`,
* **NAGIOS_SERVICECHECKCOMMAND** - `check_snmp!1!DLTTape`,
* **NAGIOS_SERVICECHECKTYPE** - `ACTIVE`,
* **NAGIOS_SERVICEDESC** - `SNMP`,
* **NAGIOS_SERVICEDISPLAYNAME** - `SNMP`,
* **NAGIOS_SERVICEDOWNTIME** - `0`,
* **NAGIOS_SERVICEDURATION** - `41d 23h 17m 56s`,
* **NAGIOS_SERVICEDURATIONSEC** - `3626276`,
* **NAGIOS_SERVICEEVENTID** - `3339445`,
* **NAGIOS_SERVICEEXECUTIONTIME** - `6.094`,
* **NAGIOS_SERVICEGROUPACTIONURL**
* **NAGIOS_SERVICEGROUPALIAS**
* **NAGIOS_SERVICEGROUPMEMBERS**
* **NAGIOS_SERVICEGROUPNAME**
* **NAGIOS_SERVICEGROUPNAMES**
* **NAGIOS_SERVICEGROUPNOTES**
* **NAGIOS_SERVICEGROUPNOTESURL**
* **NAGIOS_SERVICEISVOLATILE** - `0`,
* **NAGIOS_SERVICELATENCY** - `0.052`,
* **NAGIOS_SERVICENOTES**
* **NAGIOS_SERVICENOTESURL**
* **NAGIOS_SERVICENOTIFICATIONID** - `293607`,
* **NAGIOS_SERVICENOTIFICATIONNUMBER** - `126`,
* **NAGIOS_SERVICEOUTPUT** - STDOUT from check
* **NAGIOS_SERVICEPERCENTCHANGE** - `0.00`,
* **NAGIOS_SERVICEPERFDATA**
* **NAGIOS_SERVICEPERFDATAFILE**
* **NAGIOS_SERVICEPROBLEMID** - `1509837`,
* **NAGIOS_SERVICESTATE** - `UNKNOWN`,
* **NAGIOS_SERVICESTATEID** - `3`,
* **NAGIOS_SERVICESTATETYPE** - `HARD`,
* **NAGIOS_SHORTDATETIME** - `30-07-2015 17:24:33`,
* **NAGIOS_STATUSDATAFILE**
* **NAGIOS_TIME** - `17:24:33`,
* **NAGIOS_TIMET** - `1436455473`,

### Host-specific
* **NAGIOS_TOTALHOSTPROBLEMS** - `0`,
* **NAGIOS_TOTALHOSTPROBLEMSUNHANDLED** - `0`,
* **NAGIOS_TOTALHOSTSERVICES** - `2`,
* **NAGIOS_TOTALHOSTSERVICESCRITICAL** - `0`,
* **NAGIOS_TOTALHOSTSERVICESOK** - `1`,
* **NAGIOS_TOTALHOSTSERVICESUNKNOWN** - `1`,
* **NAGIOS_TOTALHOSTSERVICESWARNING** - `0`,


### Generic info

* **NAGIOS_ADMINEMAIL** - **nagios**,
* **NAGIOS_ADMINPAGER** - **pagenagios**,
* **NAGIOS_COMMANDFILE** - file on which nagios accepts commands
* **NAGIOS_LOGFILE** - `/var/log/nagios/nagios.log`,
* **NAGIOS_MAINCONFIGFILE** - `/etc/nagios/nagios.cfg`,
* **NAGIOS_OBJECTCACHEFILE** - `/var/log/nagios/objects.cache`,
* **NAGIOS_PROCESSSTARTTIME** - `1436451151`,
* **NAGIOS_RESOURCEFILE** - `/etc/nagios/resource.cfg`,
* **NAGIOS_RETENTIONDATAFILE** - `/var/log/nagios/retention.dat`,
* **NAGIOS_TEMPFILE** - `/var/log/nagios/nagios.tmp`,
* **NAGIOS_TEMPPATH**
* **NAGIOS_TOTALHOSTSDOWN** - `0`,
* **NAGIOS_TOTALHOSTSDOWNUNHANDLED** - `0`,
* **NAGIOS_TOTALHOSTSUNREACHABLE** - `0`,
* **NAGIOS_TOTALHOSTSUNREACHABLEUNHANDLED** - `0`,
* **NAGIOS_TOTALHOSTSUP** - `97`,
* **NAGIOS_TOTALSERVICEPROBLEMS** - `44`,
* **NAGIOS_TOTALSERVICEPROBLEMSUNHANDLED** - `7`
* **NAGIOS_TOTALSERVICESCRITICAL** - `39`,
* **NAGIOS_TOTALSERVICESCRITICALUNHANDLED** - `4`,
* **NAGIOS_TOTALSERVICESOK** - `1153`,
* **NAGIOS_TOTALSERVICESUNKNOWN** - `4`,
* **NAGIOS_TOTALSERVICESUNKNOWNUNHANDLED** - `2`,
* **NAGIOS_TOTALSERVICESWARNING** - `1`,
* **NAGIOS_TOTALSERVICESWARNINGUNHANDLED** - `1`,
